---
// Simple particles background component
---

<div class="particles-background" aria-hidden="true">
  <canvas id="particles-canvas"></canvas>
</div>

<script>
  (function() {
    if (typeof window === 'undefined') return;
    
    function initParticles() {
      const canvas = document.getElementById('particles-canvas') as HTMLCanvasElement;
      if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    if (!ctx) return;
    
    const particles: Array<{
      x: number;
      y: number;
      size: number;
      speedX: number;
      speedY: number;
      opacity: number;
    }> = [];
    
    const particleCount = 60;
    const maxSize = 20;
    const minSize = 12;
    
    function resizeCanvas() {
      const rect = canvas.parentElement?.getBoundingClientRect();
      if (rect) {
        canvas.width = rect.width;
        canvas.height = rect.height;
      }
    }
    
    function createParticle() {
      return {
        x: Math.random() * (canvas.width || window.innerWidth),
        y: Math.random() * (canvas.height || window.innerHeight),
        size: Math.random() * (maxSize - minSize) + minSize,
        speedX: (Math.random() - 0.5) * 0.3,
        speedY: (Math.random() - 0.5) * 0.3,
        opacity: Math.random() * 0.4 + 0.3,
      };
    }
    
    function init() {
      resizeCanvas();
      particles.length = 0;
      for (let i = 0; i < particleCount; i++) {
        particles.push(createParticle());
      }
      // Set up text rendering for emojis
      if (ctx) {
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
      }
    }
    
    function animate() {
      if (!ctx) return;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles.forEach(particle => {
        // Update position
        particle.x += particle.speedX;
        particle.y += particle.speedY;
        
        // Wrap around edges
        if (particle.x < 0) particle.x = canvas.width;
        if (particle.x > canvas.width) particle.x = 0;
        if (particle.y < 0) particle.y = canvas.height;
        if (particle.y > canvas.height) particle.y = 0;
        
        // Draw thumbs up emoji
        ctx.font = `${particle.size}px Arial`;
        ctx.globalAlpha = particle.opacity * 0.4;
        ctx.fillText('üëç', particle.x, particle.y);
        ctx.globalAlpha = 1;
      });
      
      requestAnimationFrame(animate);
    }
    
      init();
      animate();
      
      window.addEventListener('resize', init);
    }
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initParticles);
    } else {
      initParticles();
    }
  })();
</script>

<style>
  .particles-background {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }
  
  #particles-canvas {
    width: 100%;
    height: 100%;
  }
</style>

