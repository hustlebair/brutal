---
import { Footer } from './Footer';

export interface Props {
  backToTop?: boolean;
}

const { backToTop = false } = Astro.props;

const brandName = 'Highest Liked';
const tiktokUrl = 'https://www.tiktok.com/@highestliked';

const socialLinks = [
  {
    icon: 'tiktok',
    href: tiktokUrl,
    label: 'TikTok',
  },
];

const mainLinks: Array<{ href: string; label: string }> = [];

const legalLinks: Array<{ href: string; label: string }> = [
  { href: '/affiliate-disclosure', label: 'Affiliate Disclosure' },
  { href: '/privacy-policy', label: 'Privacy Policy' },
  { href: '/terms', label: 'Terms' },
];

const copyright = {
  text: '© HighestLiked 2025',
};

const amazonDisclosure = `As an Amazon Associate, I earn from qualifying purchases. <a href="/affiliate-disclosure" class="underline-offset-4 hover:underline text-[#6366f1] hover:text-[#8b5cf6] transition-colors">Some links on this site are affiliate links</a> — meaning I may earn a commission if you buy through them, at no extra cost to you.`;
---

{
  backToTop && (
    <button
      class:list={[
        backToTop ? `backToTop` : null,
        'transition-300 z-50 opacity-0 fixed flex bottom-[10px] right-[30px] w-10 h-10 bg-white border border-black card-shadow',
      ]}
    >
      <svg
        xmlns='http://www.w3.org/2000/svg'
        fill='none'
        viewBox='0 0 24 24'
        height='100%'
        width='100%'
        stroke-width='1.5'
        stroke='currentColor'
      >
        <path
          stroke-linecap='round'
          stroke-linejoin='round'
          d='m4.5 15.75 7.5-7.5 7.5 7.5'
        />
      </svg>
    </button>
  )
}

<Footer
  client:load
  logo="/highestlikedlogo.png"
  brandName={brandName}
  socialLinks={socialLinks}
  mainLinks={mainLinks}
  legalLinks={legalLinks}
  copyright={copyright}
  amazonDisclosure={amazonDisclosure}
/>

<style>
  .backToTop.active {
    opacity: 1;
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const backToTop = document.querySelector('.backToTop');

    const toggleBackToTopButton = () => {
      if (window.scrollY > 250) {
        backToTop?.classList.add('active');
      } else {
        backToTop?.classList.remove('active');
      }
    };

    backToTop?.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth',
      });
    });

    window.addEventListener('scroll', toggleBackToTopButton);
  });
</script>
